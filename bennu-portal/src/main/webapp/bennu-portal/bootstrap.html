<html ng-app ng-controller="BootstrapCtrl">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<script type="text/javascript" src="bennu-portal/js/angular.min.js"></script>
	<script type="text/javascript" src="bennu-portal/js/jquery.min.js"></script>
	<script type="text/javascript" src="bennu-portal/js/bootstrap.js"></script>
	<link rel="stylesheet" href="bennu-portal/css/bootstrap.min.css">
	<title>{{bootstrapper.name}}</title>
</head>
<div class="container">
	<h1>{{bootstrapper.name}}</h1>

	<div name="bootstrapWizard">
		<div ng-show="bootstrappers!=null" ng-repeat="bootstrapper in bootstrappers">

			<form name="bootstrapForm" ng-submit="submitWizard()" novalidate class="form-horizontal" role="form">	
				<div ng-repeat="section in bootstrapper.sections">

					<ng-form name="{{section.name}}">
						<div class="wizardSection" ng-show="getCurrentStep() == section">
							
								<fieldset>
									<legend>
										<span class="badge">{{currentSectionNumber + 1}}</span>
										<strong>{{bootstrapper.name}}</strong> - {{section.name}}
									</legend>
									

									<tt>{{section.description}}</tt>
									
									<br></br>

									<div ng-hide="error==null || error.fieldName!=null" class="global-error">
										{{error.message}}
									</div>

									<div ng-repeat="field in section.fields" class="control-group">
										
										<div class="form-group">

											<ng-form name="{{field.name}}" class="row" ng-class="{'has-error': field.hasError}">

												<label for="input" class="col-sm-2 control-label">{{field.name}}:</label>
												
												<div class="col-sm-10">
													<input name="input"
															class="form-control"
															type="{{field.fieldType}}"
															placeholder="{{field.hint}}" 
															ng-required="{{field.isMandatory}}"
															ng-show="{{field.validValues.length == 0}}"
															ng-model="field.value" />

													<select name="input"
															class="form-control"
															placeholder="{{field.hint}}" 
															ng-required="{{field.isMandatory}}"
															ng-show="{{field.validValues.length > 0}}"
															ng-model="field.value"
															ng-options="v for v in field.validValues">

														<option ng-show="{{field.hint==null || field.hint.lenght==0}}" value="">Choose One</option>
														<option ng-show="{{field.hint!=null && field.hint.lenght!=0}}" value="">{{field.hint}}</option>
													</select>
													
													<div class="help-block" ng-show="field.hasError">{{error.message}}</div>
												</div>
												
											</ng-form>

										</div>

									</div>
								</fieldset>

								<ul class="pager">
									<li class="previous" ng-hide="$first && firstBootstrapper()">
										<a ng-click="previousStep()">Previous</a>
									</li>
									<li class="next" ng-hide="$last && lastBootstrapper()">
										<a ng-click="nextStep()">Next</a>
									</li>
									<li ng-class="{disabled: !$last}" class="next" ng-show="$last && lastBootstrapper()">
										<a ng-click="submitWizard()" class="primary">Submit</a>
									</li>
								</ul>
						</div>

					</ng-form>

				</div>
			</form>
			
		</div>
	</div>
</div>

<style type="text/css">

.container {
	margin-top: 10px;
	padding-top: 10px;
	padding-bottom: 5px;
	background: rgba(245,245,245,0.88);
	box-shadow: 0 0 2px #999;
}
.alert {
	border: none;
}

fieldset {
	border: 0px;
}

legend .badge {
	/*margin-right: 7px;*/
	vertical-align: middle;
}

input.ng-invalid.ng-dirty {
  border: 1px solid #843534;
}

.error {
	border: 1px solid #dca7a7;
}

.wizardSection.ng-hide-add, .wizardSection.ng-hide-remove {
  transition:0.5s linear all;
  display:block!important;
}

</style>

</html>